(function(){function t(a){for(var b=a.length;b--;){typeof a[b]==="number"&&(a[b]=Math.round(a[b])-0.5)}return a}var x=Highcharts,u=x.Chart,s=x.addEvent,k=x.removeEvent,h=x.createElement,y=x.discardElement,z=x.css,A=x.merge,B=x.each,C=x.extend,n=Math.max,D=document,v=window,g=D.documentElement.ontouchstart!==void 0,r=x.getOptions();C(r.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"});r.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:g?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#F7F7F7"],[0.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}};r.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}};C(u.prototype,{getSVG:function(c){var f=this,e,b,a,d=A(f.options,c);if(!D.createElementNS){D.createElementNS=function(i,j){return D.createElement(j)}}c=h("div",null,{position:"absolute",top:"-9999em",width:f.chartWidth+"px",height:f.chartHeight+"px"},D.body);C(d.chart,{renderTo:c,forExport:!0});d.exporting.enabled=!1;d.chart.plotBackgroundImage=null;d.series=[];B(f.series,function(i){a=A(i.options,{animation:!1,showCheckbox:!1,visible:i.visible});if(!a.isInternal){if(a&&a.marker&&/^url\(/.test(a.marker.symbol)){a.marker.symbol="circle"}d.series.push(a)}});e=new Highcharts.Chart(d);B(["xAxis","yAxis"],function(i){B(f[i],function(m,o){var p=e[i][o],j=m.getExtremes(),l=j.userMin,j=j.userMax;(l!==void 0||j!==void 0)&&p.setExtremes(l,j,!0,!1)})});b=e.container.innerHTML;d=null;e.destroy();y(c);b=b.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(i){return i.toLowerCase()});b=b.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'");b.match(/ xmlns="/g).length===2&&(b=b.replace(/xmlns="[^"]+"/,""));return b},exportChart:function(c,d){var a,b=this.getSVG(A(this.options.exporting.chartOptions,d)),c=A(this.options.exporting,c);a=h("form",{method:"post",action:c.url,enctype:"multipart/form-data"},{display:"none"},D.body);B(["filename","type","width","svg"],function(e){h("input",{type:"hidden",name:e,value:{filename:c.filename||"chart",type:c.type,width:c.width,svg:b}[e]},null,a)});a.submit();y(a)},print:function(){var c=this,f=c.container,e=[],b=f.parentNode,a=D.body,d=a.childNodes;if(!c.isPrinting){c.isPrinting=!0,B(d,function(i,j){if(i.nodeType===1){e[j]=i.style.display,i.style.display="none"}}),a.appendChild(f),v.print(),setTimeout(function(){b.appendChild(f);B(d,function(i,j){if(i.nodeType===1){i.style.display=e[j]}});c.isPrinting=!1},1000)}},contextMenu:function(c,p,m,o,f,E){var i=this,d=i.options.navigation,j=d.menuItemStyle,e=i.chartWidth,F=i.chartHeight,w="cache-"+c,l=i[w],b=n(f,E),a,q;if(!l){i[w]=l=h("div",{className:"highcharts-"+c},{position:"absolute",zIndex:1000,padding:b+"px"},i.container),a=h("div",null,C({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},d.menuStyle),l),q=function(){z(l,{display:"none"})},s(l,"mouseleave",q),B(p,function(G){if(G){var H=h("div",{onmouseover:function(){z(this,d.menuItemHoverStyle)},onmouseout:function(){z(this,j)},innerHTML:G.text||i.options.lang[G.textKey]},C({cursor:"pointer"},j),a);H[g?"ontouchstart":"onclick"]=function(){q();G.onclick.apply(i,arguments)};i.exportDivElements.push(H)}}),i.exportDivElements.push(a,l),i.exportMenuWidth=l.offsetWidth,i.exportMenuHeight=l.offsetHeight}c={display:"block"};m+i.exportMenuWidth>e?c.right=e-m-f-b+"px":c.left=m-b+"px";o+E+i.exportMenuHeight>F?c.bottom=F-o-b+"px":c.top=o+E-b+"px";z(l,c)},addButton:function(b){function a(){j.attr(e);o.attr(q)}var f=this,w=f.renderer,E=A(f.options.navigation.buttonOptions,b),m=E.onclick,p=E.menuItems,d=E.width,c=E.height,o,j,l,b=E.borderWidth,q={stroke:E.borderColor},e={stroke:E.symbolStroke,fill:E.symbolFill},i=E.symbolSize||12;if(!f.exportDivElements){f.exportDivElements=[],f.exportSVGElements=[]}E.enabled!==!1&&(o=w.rect(0,0,d,c,E.borderRadius,b).align(E,!0).attr(C({fill:E.backgroundColor,"stroke-width":b,zIndex:19},q)).add(),l=w.rect(0,0,d,c,0).align(E).attr({id:E._id,fill:"rgba(255, 255, 255, 0.001)",title:f.options.lang[E._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){j.attr({stroke:E.hoverSymbolStroke,fill:E.hoverSymbolFill});o.attr({stroke:E.hoverBorderColor})}).on("mouseout",a).on("click",a).add(),p&&(m=function(){a();var F=l.getBBox();f.contextMenu("export-menu",p,F.x,F.y,d,c)}),l.on("click",function(){m.apply(f,arguments)}),j=w.symbol(E.symbol,E.symbolX-i/2,E.symbolY-i/2,i,i).align(E,!0).attr(C(e,{"stroke-width":E.symbolStrokeWidth||1,zIndex:20})).add(),f.exportSVGElements.push(o,l,j))},destroyExport:function(){var a,b;for(a=0;a<this.exportSVGElements.length;a++){b=this.exportSVGElements[a],b.onclick=b.ontouchstart=null,this.exportSVGElements[a]=b.destroy()}for(a=0;a<this.exportDivElements.length;a++){b=this.exportDivElements[a],k(b,"mouseleave"),this.exportDivElements[a]=b.onmouseout=b.onmouseover=b.ontouchstart=b.onclick=null,y(b)}}});x.Renderer.prototype.symbols.exportIcon=function(c,d,a,b){return t(["M",c,d+a,"L",c+a,d+b,c+a,d+b*0.8,c,d+b*0.8,"Z","M",c+a*0.5,d+b*0.8,"L",c+a*0.8,d+b*0.4,c+a*0.4,d+b*0.4,c+a*0.4,d,c+a*0.6,d,c+a*0.6,d+b*0.4,c+a*0.2,d+b*0.4,"Z"])};x.Renderer.prototype.symbols.printIcon=function(c,d,a,b){return t(["M",c,d+b*0.7,"L",c+a,d+b*0.7,c+a,d+b*0.4,c,d+b*0.4,"Z","M",c+a*0.2,d+b*0.4,"L",c+a*0.2,d,c+a*0.8,d,c+a*0.8,d+b*0.4,"Z","M",c+a*0.2,d+b*0.7,"L",c,d+b,c+a,d+b,c+a*0.8,d+b*0.7,"Z"])};u.prototype.callbacks.push(function(c){var d,a=c.options.exporting,b=a.buttons;if(a.enabled!==!1){for(d in b){c.addButton(b[d])}s(c,"destroy",c.destroyExport)}})})();